package EndtermProject;

import java.util.ArrayList;
import java.util.List;

// Класс музыкального произведения
class MusicalWork {
    private String name;
    private int duration;
    private MusicalMedia media;

    public MusicalWork(String name, int duration) {
        this.name = name;
        this.duration = duration;
    }

    public String getName() {
        return name;
    }

    public int getDuration() {
        return duration;
    }

    public MusicalMedia getMedia() {
        return media;
    }

    public void setMedia(MusicalMedia media) {
        this.media = media;
    }
}

// Класс музыкального носителя (альбома)
class MusicalMedia {
    private String authorOrGroup;
    private String genre;
    private int year;
    private List<MusicalWork> musicalWorks;

    public MusicalMedia(String authorOrGroup, String genre, int year) {
        this.authorOrGroup = authorOrGroup;
        this.genre = genre;
        this.year = year;
        this.musicalWorks = new ArrayList<>();
    }

    public String getAuthorOrGroup() {
        return authorOrGroup;
    }

    public String getGenre() {
        return genre;
    }

    public int getYear() {
        return year;
    }

    public List<MusicalWork> getMusicalWorks() {
        return musicalWorks;
    }

    public void addMusicalWork(MusicalWork work) {
        musicalWorks.add(work);
        work.setMedia(this);
    }
}

// Класс коллекции музыкальных альбомов
class Collection {
    private String name;
    private String ownerName;
    private List<MusicalMedia> mediaList;

    public Collection(String name, String ownerName) {
        this.name = name;
        this.ownerName = ownerName;
        this.mediaList = new ArrayList<>();
    }

    public List<MusicalMedia> getMediaList() {
        return mediaList;
    }

    public void addMedia(MusicalMedia media) {
        mediaList.add(media);
    }

    public MusicalWork searchByTitle(String title) {
        for (MusicalMedia media : mediaList) {
            for (MusicalWork work : media.getMusicalWorks()) {
                if (work.getName().equalsIgnoreCase(title)) {
                    return work;
                }
            }
        }
        return null;
    }
}
